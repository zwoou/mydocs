import{usePageFrontmatter as e,usePageLang as t,withBase as i}from"@vuepress/client";import{Waline as a}from"@waline/client/dist/component";import{pageviewCount as l}from"@waline/client/dist/pageview";import{defineComponent as o,computed as r,onMounted as n,watch as m,h as s}from"vue";import{useRoute as p}from"vue-router";import{useLocaleConfig as u}from"vuepress-shared/lib/client";import"@waline/client/dist/waline.css";import"../styles/waline.scss";const c=COMMENT_OPTIONS,v=Boolean(c.serverURL),w=WALINE_LOCALES;var d=o({name:"WalineComment",setup(){const o=p(),d=e(),f=t(),h=u(w);let g;const L=r((()=>{if(!v)return!1;const e=!1!==c.comment,t=d.value.comment;return Boolean(t)||!1!==e&&!1!==t})),C=r((()=>{if(!v)return!1;const e=!1!==c.pageview,t=d.value.pageview;return Boolean(t)||!1!==e&&!1!==t})),N=r((()=>({lang:"zh-CN"===f.value?"zh-CN":"en",locale:{...h.value,...c.locale||{}},emoji:["//unpkg.com/@waline/emojis@1.0.1/weibo","//unpkg.com/@waline/emojis@1.0.1/bilibili"],dark:"html.dark",...c,path:i(o.path)})));return n((()=>{m((()=>o.path),(()=>{g?.(),C.value&&setTimeout((()=>{g=l({serverURL:c.serverURL,path:i(o.path)})}),c.delay||500)}),{immediate:!0})})),()=>L.value?s("div",{class:"waline-wrapper"},v?s(a,N.value):[]):null}});export{d as default,v as enableWaline,w as walineLocales,c as walineOption};
//# sourceMappingURL=Waline.js.map
